<!DOCTYPE html>
<html>
<head>
    <title>Local Cricket App</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body { font-family: Arial; text-align: center; background: #f4f4f4; }
        .screen { display: none; padding: 20px; }
        .active { display: block; }
        .btn-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin-top: 20px; }
        button { padding: 15px; font-size: 18px; cursor: pointer; border-radius: 8px; border: none; background: #007bff; color: white; }
        .wicket { background: #dc3545; }
        .extra { background: #ffc107; color: black; }
        #scoreboard { background: #222; color: #fff; padding: 20px; border-radius: 10px; margin-bottom: 20px; }
    </style>
</head>
<body>

    <div id="setup-screen" class="screen active">
        <h2>Cricket Score Manager</h2>
        <input type="text" id="teamA" placeholder="Team A Name"><br><br>
        <input type="text" id="teamB" placeholder="Team B Name"><br><br>
        <input type="number" id="maxOvers" placeholder="Total Overs"><br><br>
        <button onclick="startMatch()">Start Match</button>
    </div>

    <div id="scoring-screen" class="screen">
        <div id="scoreboard">
            <h3 id="match-title">Team A vs Team B</h3>
            <h1 id="live-score">0 - 0</h1>
            <p id="live-overs">Overs: 0.0</p>
            <div id="batsmen">
                <span id="s1" style="color: yellow;">* Striker</span> | <span id="s2">Non-Striker</span>
            </div>
        </div>

        <div class="btn-grid">
            <button onclick="addRuns(0)">0</button>
            <button onclick="addRuns(1)">1</button>
            <button onclick="addRuns(2)">2</button>
            <button onclick="addRuns(3)">3</button>
            <button onclick="addRuns(4)">4</button>
            <button onclick="addRuns(6)">6</button>
            <button class="extra" onclick="addExtra('WD')">WD</button>
            <button class="extra" onclick="addExtra('NB')">NB</button>
            <button class="wicket" onclick="out()">Wicket</button>
        </div>
        <br>
        <button onclick="undo()" style="background: #6c757d;">Undo Ball</button>
        <button onclick="startMic()" style="background: #28a745;">üé§ Mic</button>
    </div>

    <script>
        let runs = 0, wickets = 0, balls = 0, currentOverBalls = 0;
        let api_url = "‡∞Æ‡±Ä_APPS_SCRIPT_URL_‡∞á‡∞ï‡±ç‡∞ï‡∞°_‡∞™‡±á‡∞∏‡±ç‡∞ü‡±ç_‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø";

        function startMatch() {
            document.getElementById('setup-screen').classList.remove('active');
            document.getElementById('scoring-screen').classList.add('active');
            document.getElementById('match-title').innerText = document.getElementById('teamA').value + " vs " + document.getElementById('teamB').value;
        }

        function addRuns(r) {
            runs += r;
            balls++;
            currentOverBalls++;
            updateUI();
            checkOverEnd();
        }

        function addExtra(type) {
            runs += 1; // Wide/NB ‡∞ï‡∞ø 1 ‡∞∞‡∞®‡±ç
            updateUI();
        }

        function out() {
            wickets++;
            balls++;
            currentOverBalls++;
            if(wickets >= 10) alert("All Out!");
            updateUI();
            checkOverEnd();
        }

        function updateUI() {
            let overValue = Math.floor(balls/6) + "." + (balls%6);
            document.getElementById('live-score').innerText = runs + " - " + wickets;
            document.getElementById('live-overs').innerText = "Overs: " + overValue;
            syncToSheet();
        }

        function checkOverEnd() {
            if(currentOverBalls == 6) {
                alert("Over Finished! Change Bowler and Swap Batsmen.");
                currentOverBalls = 0;
                // Swap Striker/Non-Striker Logic ‡∞á‡∞ï‡±ç‡∞ï‡∞° ‡∞µ‡∞∏‡±ç‡∞§‡±Å‡∞Ç‡∞¶‡∞ø
            }
        }

        function syncToSheet() {
            // Google Sheet ‡∞ï‡∞ø ‡∞°‡±á‡∞ü‡∞æ ‡∞™‡∞Ç‡∞™‡±á ‡∞´‡∞Ç‡∞ï‡±ç‡∞∑‡∞®‡±ç
        }

        // Voice Recognition Logic
        function startMic() {
            alert("Voice recognition starting...");
            // Web Speech API logic here
        }
    </script>
</body>
</html>
